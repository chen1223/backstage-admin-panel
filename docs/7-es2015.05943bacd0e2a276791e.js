(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{oLyD:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class u{}var i=t("pMnS"),o=t("fNgX"),a=t("Nv++"),r=t("cUpR"),s=t("s7LF"),c=t("SVse"),d=t("/3cD"),g=t("FDS9"),b=t("iInd"),p=t("3KzV"),m=t("CUOF"),h=t("eokG"),v=t("HDdC"),w=t("IheW");let f=(()=>{class l{constructor(l,n){this.http=l,this.apiService=n}updateCategories(l){return new v.a(l=>{setTimeout(()=>{l.next({code:200,data:[{id:1,text:"Comedy",status:"inUsed"},{id:2,text:"Horror",status:"inUsed"},{id:4,text:"Action",status:"unUsed"},{id:5,text:"Drama",status:"unUsed"}]}),l.complete()},500)})}getCategories(){return new v.a(l=>{setTimeout(()=>{l.next({code:200,data:[{id:1,text:"Comedy",status:"inUsed"},{id:2,text:"Horror",status:"inUsed"},{id:4,text:"Action",status:"unUsed"},{id:5,text:"Drama",status:"unUsed"}]}),l.complete()},500)})}getVimeoPhoto(l){return this.http.get(`https://vimeo.com/api/v2/video/${l}.json`)}getVideos(){return new v.a(l=>{setTimeout(()=>{l.next({code:200,data:[{id:2,title:"Video 1",url:"https://www.youtube.com/watch?v=123456789",coverImg:"https://via.placeholder.com/400x250",year:2019,status:"published",categoryId:2,datePublished:"2020-01-31"},{id:3,title:"Video 2",url:"https://vimeo.com/123456789",coverImg:"https://via.placeholder.com/400x250",year:2018,status:"draft",categoryId:1,datePublished:null}]}),l.complete()},500)})}getVideo(l){return new v.a(l=>{setTimeout(()=>{l.next({code:200,data:{id:2,title:"Video 1",year:2019,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",url:"https://www.youtube.com/watch?v=123456789",status:"published",categoryId:2,genres:[{id:15,genre:"Horror",video_id:2}]}}),l.complete()},500)})}createVideo(l){return new v.a(l=>{setTimeout(()=>{l.next({code:200,data:{id:2,title:"Video 1",year:2019,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",url:"https://www.youtube.com/watch?v=123456789",status:"published",categoryId:2,genres:[{id:15,genre:"Horror",video_id:2}]}}),l.complete()},500)})}updateVideo(l,n){return new v.a(l=>{setTimeout(()=>{l.next({code:200,data:{id:2,title:"Video 1",year:2019,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",url:"https://www.youtube.com/watch?v=123456789",status:"published",categoryId:2,genres:[{id:15,genre:"Horror",video_id:2}]}}),l.complete()},500)})}updateVideoStatus(l,n){return new v.a(l=>{setTimeout(()=>{l.next({code:200,status:"published"}),l.complete()},500)})}}return l.ngInjectableDef=e.Mb({factory:function(){return new l(e.Nb(w.c),e.Nb(h.a))},token:l,providedIn:"root"}),l})();var C=t("lJxs"),y=t("dA7y");class P{constructor(l,n,t,e){this.fb=l,this.sweetAlertService=n,this.videoService=t,this.loadingService=e,this.mode="view",this.categoryForm=this.fb.group({categories:this.fb.array([]),newCategory:[""]}),this.totalPublished=0,this.totalDrafts=0,this.videoTypeSelection="all",this.videoCategorySelection="all",this.fullVideoList=[],this.filteredVideolist=[]}ngOnInit(){this.categoryForm.disable(),this.mode="view",this.getCategories(),this.getVideos()}loadCategoryData(l){this.categoryData=l,this.categoryForm.get("categories").clear(),this.categoryForm.get("newCategory").reset(),this.categoryData.forEach(l=>{const n=Object(m.a)(l.text);this.categoryForm.get("categories").push(this.fb.group({categoryId:[l.id],tag:[n],text:[l.text],status:[l.status]}))})}categoryArray(){return this.categoryForm.get("categories")}getCategories(){this.videoService.getCategories().subscribe(l=>{this.loadCategoryData(l.data)},l=>{const n=l.error;n.msg&&this.sweetAlertService.error(null,n.msg)})}onEdit(){this.categoryForm.enable(),this.mode="edit"}onAdd(){const l=this.categoryForm.get("categories"),n=this.categoryForm.get("newCategory").value;if(!n)return;const t=Object(m.a)(n);for(let e=0;e<l.controls.length;e++)if(l.at(e).get("tag").value===t)return void this.sweetAlertService.warn(null,"The same category already exist");l.push(this.fb.group({categoryId:[""],tag:[t],text:[n],status:["new"]})),this.categoryForm.get("newCategory").reset()}onRemoveCategory(l){const n=this.categoryForm.get("categories"),t=n.at(l),e=t.get("status").value;"new"===e?n.removeAt(l):"unUsed"===e?t.get("status").setValue("deleted"):"inUsed"===e&&this.sweetAlertService.warn(null,`${t.get("text").value} is currently in used`)}formatCategoryOutput(){const l={create:[],delete:[]};return this.categoryForm.getRawValue().categories.forEach(n=>{const t=n.status,e=n.categoryId;"new"===t?l.create.push(n.text):"deleted"===t&&l.delete.push(e)}),l}saveForm(){const l=this.formatCategoryOutput();this.loadingService.showLoading(),this.videoService.updateCategories(l).subscribe(l=>{this.loadingService.hideLoading(),this.loadCategoryData(l.data),this.categoryForm.disable(),this.mode="view"},l=>{this.loadingService.hideLoading();const n=l.error;n.msg&&this.sweetAlertService.error(null,n.msg)})}onCancel(){this.categoryForm.disable(),this.mode="view"}getVideoTypeId(l){const n=l.substring(0,l.indexOf("&")>-1?l.indexOf("&"):l.length);let t="",e="";return n.indexOf("vimeo")>-1?(t=n.replace("https://vimeo.com/",""),e="vimeo"):n.indexOf("youtube")>-1&&(t=n.replace("https://www.youtube.com/watch?v=",""),e="youtube"),{type:e,id:t}}getVideos(){this.loadingService.showLoading(),this.videoService.getVideos().pipe(Object(C.a)(l=>(l.data.forEach(l=>{l.link=`/videos/view/${l.id}`,l.category=l.categoryId}),l))).subscribe(l=>{this.loadingService.hideLoading(),this.fullVideoList=l.data,this.filterVideo(),this.setUpVideoStats()},l=>{this.loadingService.hideLoading();const n=l.error;n.msg&&this.sweetAlertService.error(null,n.msg)})}setUpVideoStats(){this.totalPublished=0,this.totalDrafts=0,this.fullVideoList.forEach(l=>{"published"===l.status?this.totalPublished++:this.totalDrafts++})}filterVideo(){this.filteredVideolist=this.fullVideoList.filter(l=>!(l.category!==this.videoCategorySelection&&"all"!==this.videoCategorySelection||l.status!==this.videoTypeSelection&&"all"!==this.videoTypeSelection))}}var M=e.ob({encapsulation:0,styles:[[".action-row[_ngcontent-%COMP%]   .inner-action-wrapper[_ngcontent-%COMP%]{margin-left:10px}.action-row[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{margin-left:0;font-size:1rem}.new-row[_ngcontent-%COMP%]{width:50%;display:flex;align-items:flex-end;margin-bottom:2rem}.new-row[_ngcontent-%COMP%]   .ctrl-row[_ngcontent-%COMP%]{margin-right:40px;max-width:200px}.new-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .new-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1rem}.category-list[_ngcontent-%COMP%]{list-style:none;padding-left:0;margin:0;display:flex;flex-wrap:wrap;width:100%}.category-list[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{margin-right:20px;margin-bottom:10px;font-style:italic;font-weight:700}.category-list[_ngcontent-%COMP%]   .category.editing[_ngcontent-%COMP%]{border:2px solid #888;padding:5px 8px;border-radius:3px;position:relative;font-weight:400}.category-list[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{margin-right:3px;font-size:.8rem}.category-list[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .category-text[_ngcontent-%COMP%]{font-size:.85rem}.category-list[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .category-btn.--remove[_ngcontent-%COMP%]{position:absolute;top:-13px;right:-10px;padding:0}.category-list[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .category-btn.--remove[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#c34e42}.category-list[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .category-btn.--remove[_ngcontent-%COMP%]:hover   .category-icon[_ngcontent-%COMP%]{font-size:1.4rem}.new-video[_ngcontent-%COMP%]{margin-left:auto;text-decoration:none;font-size:1rem}.stats-row[_ngcontent-%COMP%]{display:flex;margin:20px 0}.stats-row[_ngcontent-%COMP%]   .video-stats-wrapper[_ngcontent-%COMP%]{margin-right:3rem}.stats-row[_ngcontent-%COMP%]   .video-stats-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:inline;margin-right:20px;text-transform:none}.filter-row[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:space-between;margin-top:2rem}.filter-row[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]{width:calc(50% - 20px);display:flex;align-items:baseline}.filter-row[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   .ctrl-label[_ngcontent-%COMP%]{font-size:1.3rem;margin-right:10px}.filter-row[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{font-size:1rem}.video-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -10px}@media (min-width:993px) and (max-width:1199px) and (orientation:landscape){.stats-row[_ngcontent-%COMP%]{margin-top:2rem}.filter-row[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   .ctrl-label[_ngcontent-%COMP%]{font-size:1.2rem}}@media (min-width:768px) and (max-width:992px) and (orientation:landscape){.action-row[_ngcontent-%COMP%]{margin-bottom:0}.section-title[_ngcontent-%COMP%]{margin-top:1rem}.stats-row[_ngcontent-%COMP%]{margin-top:2rem}.filter-row[_ngcontent-%COMP%]{width:100%}}@media (min-width:480px) and (max-width:767px) and (orientation:landscape){.section-title[_ngcontent-%COMP%]{margin-top:1rem}.new-row[_ngcontent-%COMP%]{width:100%}.new-row[_ngcontent-%COMP%]   .ctrl-row[_ngcontent-%COMP%]{margin-right:10px;max-width:unset}.stats-row[_ngcontent-%COMP%]{margin-top:2rem;display:block;position:relative}.stats-row[_ngcontent-%COMP%]   .video-stats-wrapper[_ngcontent-%COMP%]{margin-top:10px}.stats-row[_ngcontent-%COMP%]   .new-video[_ngcontent-%COMP%]{position:absolute;max-width:85px;top:20px;right:0;margin-top:20px;max-width:85px}.filter-row[_ngcontent-%COMP%]{width:100%}}@media (max-width:479px) and (orientation:landscape){.section-title[_ngcontent-%COMP%]{margin-top:1rem}.new-row[_ngcontent-%COMP%]{width:100%}.new-row[_ngcontent-%COMP%]   .ctrl-row[_ngcontent-%COMP%]{max-width:unset}.stats-row[_ngcontent-%COMP%]{margin-top:2rem;display:block}.stats-row[_ngcontent-%COMP%]   .video-stats-wrapper[_ngcontent-%COMP%]{margin-right:0;margin-top:10px}.new-video[_ngcontent-%COMP%]{display:block;margin-top:20px;max-width:85px}.filter-row[_ngcontent-%COMP%]{width:100%;display:block}.filter-row[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]{display:block;width:100%}}@media (min-width:768px) and (max-width:992px) and (orientation:portrait){.filter-row[_ngcontent-%COMP%]{width:100%}}@media (min-width:480px) and (max-width:767px) and (orientation:portrait){.new-row[_ngcontent-%COMP%]{width:100%}.new-row[_ngcontent-%COMP%]   .ctrl-row[_ngcontent-%COMP%]{max-width:unset;margin-right:10px}.action-row.--btm[_ngcontent-%COMP%]{display:block;text-align:center}.new-video[_ngcontent-%COMP%]{display:block;margin-top:20px;max-width:85px}.stats-row[_ngcontent-%COMP%]{display:block}.stats-row[_ngcontent-%COMP%]   .video-stats-wrapper[_ngcontent-%COMP%]{margin-right:0;margin-top:10px}.filter-row[_ngcontent-%COMP%]{width:100%;display:block}.filter-row[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin-top:10px}}@media (max-width:479px) and (orientation:portrait){.action-row[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.action-row.--btm[_ngcontent-%COMP%]{display:block;text-align:center;margin-top:10px}.new-row[_ngcontent-%COMP%]{width:100%}.new-row[_ngcontent-%COMP%]   .ctrl-row[_ngcontent-%COMP%]{max-width:unset}.new-video[_ngcontent-%COMP%]{display:block;margin-top:20px;max-width:85px}.stats-row[_ngcontent-%COMP%]{display:block}.stats-row[_ngcontent-%COMP%]   .video-stats-wrapper[_ngcontent-%COMP%]{margin-right:0;margin-top:10px}.filter-row[_ngcontent-%COMP%]{width:100%;display:block}.filter-row[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin-top:10px}}"]],data:{}});function O(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,3,"button",[["aria-label","Edit"],["class","action-btn --edit"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onEdit()&&e),e}),null,null)),(l()(),e.qb(1,0,null,null,2,"fa-icon",[["class","action-btn --icon ng-fa-icon"]],[[8,"innerHTML",1]],null,null,o.b,o.a)),e.pb(2,573440,null,0,a.a,[r.b,a.b],{iconProp:[0,"iconProp"]},null),e.Cb(3,2)],(function(l,n){var t=l(n,3,0,"fa","pen");l(n,2,0,t)}),(function(l,n){l(n,1,0,e.Bb(n,2).renderedIconHTML)}))}function x(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,11,"div",[["class","new-row"]],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,8,"div",[["class","ctrl-row"]],null,null,null,null,null)),(l()(),e.qb(2,0,null,null,1,"label",[["class","ctrl-label"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["New Category"])),(l()(),e.qb(4,0,null,null,5,"input",[["class","ctrl"],["formControlName","newCategory"],["placeholder","New Category"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.Bb(l,5)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,5).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Bb(l,5)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Bb(l,5)._compositionEnd(t.target.value)&&u),u}),null,null)),e.pb(5,16384,null,0,s.d,[e.B,e.k,[2,s.a]],null,null),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.d]),e.pb(7,671744,null,0,s.g,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.y]],{name:[0,"name"]},null),e.Eb(2048,null,s.o,null,[s.g]),e.pb(9,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),e.qb(10,0,null,null,1,"button",[["aria-label","Add new category"],["class","btn --md --add"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onAdd()&&e),e}),null,null)),(l()(),e.Hb(-1,null,["Add"]))],(function(l,n){l(n,7,0,"newCategory")}),(function(l,n){l(n,4,0,e.Bb(n,9).ngClassUntouched,e.Bb(n,9).ngClassTouched,e.Bb(n,9).ngClassPristine,e.Bb(n,9).ngClassDirty,e.Bb(n,9).ngClassValid,e.Bb(n,9).ngClassInvalid,e.Bb(n,9).ngClassPending)}))}function _(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,3,"button",[["aria-label","remove category"],["class","category-btn --remove"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onRemoveCategory(l.parent.parent.context.index)&&e),e}),null,null)),(l()(),e.qb(1,0,null,null,2,"fa-icon",[["class","category-icon ng-fa-icon"]],[[8,"innerHTML",1]],null,null,o.b,o.a)),e.pb(2,573440,null,0,a.a,[r.b,a.b],{iconProp:[0,"iconProp"]},null),e.Cb(3,2)],(function(l,n){var t=l(n,3,0,"fa","times");l(n,2,0,t)}),(function(l,n){l(n,1,0,e.Bb(n,2).renderedIconHTML)}))}function B(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,2,"fa-icon",[["class","category-icon --hash ng-fa-icon"]],[[8,"innerHTML",1]],null,null,o.b,o.a)),e.pb(1,573440,null,0,a.a,[r.b,a.b],{iconProp:[0,"iconProp"]},null),e.Cb(2,2)],(function(l,n){var t=l(n,2,0,"fa","hashtag");l(n,1,0,t)}),(function(l,n){l(n,0,0,e.Bb(n,1).renderedIconHTML)}))}function I(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,12,"li",[["class","category"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),e.Eb(512,null,c.t,c.u,[e.q,e.r,e.k,e.B]),e.pb(2,278528,null,0,c.h,[c.t],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Db(3,{editing:0}),e.pb(4,212992,null,0,s.i,[[3,s.c],[8,null],[8,null]],{name:[0,"name"]},null),e.Eb(2048,null,s.c,null,[s.i]),e.pb(6,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),e.fb(16777216,null,null,1,null,_)),e.pb(8,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(16777216,null,null,1,null,B)),e.pb(10,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(11,0,null,null,1,"span",[["class","category-text"]],null,null,null,null,null)),(l()(),e.Hb(12,null,["",""]))],(function(l,n){var t=n.component,e=l(n,3,0,"edit"===t.mode);l(n,2,0,"category",e),l(n,4,0,n.parent.context.index),l(n,8,0,"edit"===t.mode),l(n,10,0,"view"===t.mode)}),(function(l,n){l(n,0,0,e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending);var t=n.parent.context.$implicit.get("text").value;l(n,12,0,t)}))}function q(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.fb(16777216,null,null,1,null,I)),e.pb(2,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(0,null,null,0))],(function(l,n){var t="deleted"!==n.context.$implicit.get("status").value;l(n,2,0,t)}),null)}function k(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,4,"div",[["class","action-row --btm"]],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,1,"button",[["aria-label","Save"],["class","btn --md action-btn --save"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.saveForm()&&e),e}),null,null)),(l()(),e.Hb(-1,null,["Save"])),(l()(),e.qb(3,0,null,null,1,"button",[["aria-label","Cancel"],["class","btn --md action-btn --sub --cancel"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onCancel()&&e),e}),null,null)),(l()(),e.Hb(-1,null,["Cancel"]))],null,null)}function V(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,3,"option",[["class","video-option"]],null,null,null,null,null)),e.pb(1,147456,null,0,s.s,[e.k,e.B,[2,s.u]],{ngValue:[0,"ngValue"]},null),e.pb(2,147456,null,0,s.z,[e.k,e.B,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),e.Hb(3,null,["",""]))],(function(l,n){var t=n.context.$implicit.get("categoryId").value;l(n,1,0,t);var e=n.context.$implicit.get("categoryId").value;l(n,2,0,e)}),(function(l,n){var t=n.context.$implicit.get("text").value;l(n,3,0,t)}))}function S(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"mgt-card",[["class","mgt-card"]],null,null,null,d.b,d.a)),e.pb(1,114688,null,0,g.a,[],{data:[0,"data"]},null)],(function(l,n){l(n,1,0,n.context.$implicit)}),null)}function T(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,25,"form",[["class","categoryForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,t){var u=!0;return"submit"===n&&(u=!1!==e.Bb(l,2).onSubmit(t)&&u),"reset"===n&&(u=!1!==e.Bb(l,2).onReset()&&u),u}),null,null)),e.pb(1,16384,null,0,s.A,[],null,null),e.pb(2,540672,null,0,s.h,[[8,null],[8,null]],{form:[0,"form"]},null),e.Eb(2048,null,s.c,null,[s.h]),e.pb(4,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),e.qb(5,0,null,null,2,"div",[["class","action-row"]],null,null,null,null,null)),(l()(),e.qb(6,0,null,null,1,"h1",[["class","page-title"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Videos"])),(l()(),e.qb(8,0,null,null,17,"section",[["class","category-section"]],null,null,null,null,null)),(l()(),e.qb(9,0,null,null,5,"div",[["class","action-row"]],null,null,null,null,null)),(l()(),e.qb(10,0,null,null,1,"h2",[["class","section-title"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Categories"])),(l()(),e.qb(12,0,null,null,2,"div",[["class","inner-action-wrapper"]],null,null,null,null,null)),(l()(),e.fb(16777216,null,null,1,null,O)),e.pb(14,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(16777216,null,null,1,null,x)),e.pb(16,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(17,0,null,null,6,"div",[["class","category-container"]],null,null,null,null,null)),(l()(),e.qb(18,0,null,null,5,"ul",[["class","category-list"],["formArrayName","categories"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),e.pb(19,212992,null,0,s.e,[[3,s.c],[8,null],[8,null]],{name:[0,"name"]},null),e.Eb(2048,null,s.c,null,[s.e]),e.pb(21,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),e.fb(16777216,null,null,1,null,q)),e.pb(23,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.fb(16777216,null,null,1,null,k)),e.pb(25,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(26,0,null,null,54,"section",[["class","video-section"]],null,null,null,null,null)),(l()(),e.qb(27,0,null,null,13,"div",[["class","stats-row"]],null,null,null,null,null)),(l()(),e.qb(28,0,null,null,4,"div",[["class","video-stats-wrapper"]],null,null,null,null,null)),(l()(),e.qb(29,0,null,null,1,"h2",[["class","section-title"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Total published:"])),(l()(),e.qb(31,0,null,null,1,"span",[["class","stat-detail"]],null,null,null,null,null)),(l()(),e.Hb(32,null,["",""])),(l()(),e.qb(33,0,null,null,4,"div",[["class","video-stats-wrapper"]],null,null,null,null,null)),(l()(),e.qb(34,0,null,null,1,"h2",[["class","section-title"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Total drafts:"])),(l()(),e.qb(36,0,null,null,1,"span",[["class","stat-detail"]],null,null,null,null,null)),(l()(),e.Hb(37,null,["",""])),(l()(),e.qb(38,0,null,null,2,"a",[["aria-label","New video"],["class","btn --md new-video"],["routerLink","/videos/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e.Bb(l,39).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u}),null,null)),e.pb(39,671744,null,0,b.n,[b.k,b.a,c.g],{routerLink:[0,"routerLink"]},null),(l()(),e.Hb(-1,null,["New Video"])),(l()(),e.qb(41,0,null,null,36,"div",[["class","filter-row"]],null,null,null,null,null)),(l()(),e.qb(42,0,null,null,20,"div",[["class","filter-wrapper ctrl-row"]],null,null,null,null,null)),(l()(),e.qb(43,0,null,null,1,"label",[["class","ctrl-label"],["for","videoType"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Show"])),(l()(),e.qb(45,0,null,null,17,"select",[["class","ctrl menu --type"],["id","videoType"],["name","videoType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],(function(l,n,t){var u=!0,i=l.component;return"change"===n&&(u=!1!==e.Bb(l,46).onChange(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,46).onTouched()&&u),"change"===n&&(u=!1!==i.filterVideo()&&u),"ngModelChange"===n&&(u=!1!==(i.videoTypeSelection=t)&&u),u}),null,null)),e.pb(46,16384,null,0,s.u,[e.B,e.k],null,null),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.u]),e.pb(48,671744,null,0,s.r,[[8,null],[8,null],[8,null],[6,s.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,s.o,null,[s.r]),e.pb(50,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),e.qb(51,0,null,null,3,"option",[["class","video-option"],["value","all"]],null,null,null,null,null)),e.pb(52,147456,null,0,s.s,[e.k,e.B,[2,s.u]],{value:[0,"value"]},null),e.pb(53,147456,null,0,s.z,[e.k,e.B,[8,null]],{value:[0,"value"]},null),(l()(),e.Hb(-1,null,["All"])),(l()(),e.qb(55,0,null,null,3,"option",[["class","video-option"],["value","published"]],null,null,null,null,null)),e.pb(56,147456,null,0,s.s,[e.k,e.B,[2,s.u]],{value:[0,"value"]},null),e.pb(57,147456,null,0,s.z,[e.k,e.B,[8,null]],{value:[0,"value"]},null),(l()(),e.Hb(-1,null,["Published"])),(l()(),e.qb(59,0,null,null,3,"option",[["class","video-option"],["value","draft"]],null,null,null,null,null)),e.pb(60,147456,null,0,s.s,[e.k,e.B,[2,s.u]],{value:[0,"value"]},null),e.pb(61,147456,null,0,s.z,[e.k,e.B,[8,null]],{value:[0,"value"]},null),(l()(),e.Hb(-1,null,["Draft"])),(l()(),e.qb(63,0,null,null,14,"div",[["class","filter-wrapper ctrl-row"]],null,null,null,null,null)),(l()(),e.qb(64,0,null,null,1,"label",[["class","ctrl-label"],["for","videoType"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Category"])),(l()(),e.qb(66,0,null,null,11,"select",[["class","ctrl menu --category"],["id","videoType"],["name","videoType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],(function(l,n,t){var u=!0,i=l.component;return"change"===n&&(u=!1!==e.Bb(l,67).onChange(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,67).onTouched()&&u),"change"===n&&(u=!1!==i.filterVideo()&&u),"ngModelChange"===n&&(u=!1!==(i.videoCategorySelection=t)&&u),u}),null,null)),e.pb(67,16384,null,0,s.u,[e.B,e.k],null,null),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.u]),e.pb(69,671744,null,0,s.r,[[8,null],[8,null],[8,null],[6,s.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,s.o,null,[s.r]),e.pb(71,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),e.qb(72,0,null,null,3,"option",[["class","video-option"],["value","all"]],null,null,null,null,null)),e.pb(73,147456,null,0,s.s,[e.k,e.B,[2,s.u]],{value:[0,"value"]},null),e.pb(74,147456,null,0,s.z,[e.k,e.B,[8,null]],{value:[0,"value"]},null),(l()(),e.Hb(-1,null,["All"])),(l()(),e.fb(16777216,null,null,1,null,V)),e.pb(77,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.qb(78,0,null,null,2,"div",[["class","video-list"]],null,null,null,null,null)),(l()(),e.fb(16777216,null,null,1,null,S)),e.pb(80,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,2,0,t.categoryForm),l(n,14,0,"view"===t.mode),l(n,16,0,"edit"===t.mode),l(n,19,0,"categories"),l(n,23,0,t.categoryArray().controls),l(n,25,0,"edit"===t.mode),l(n,39,0,"/videos/new"),l(n,48,0,"videoType",t.videoTypeSelection),l(n,52,0,"all"),l(n,53,0,"all"),l(n,56,0,"published"),l(n,57,0,"published"),l(n,60,0,"draft"),l(n,61,0,"draft"),l(n,69,0,"videoType",t.videoCategorySelection),l(n,73,0,"all"),l(n,74,0,"all"),l(n,77,0,t.categoryArray().controls),l(n,80,0,t.filteredVideolist)}),(function(l,n){var t=n.component;l(n,0,0,e.Bb(n,4).ngClassUntouched,e.Bb(n,4).ngClassTouched,e.Bb(n,4).ngClassPristine,e.Bb(n,4).ngClassDirty,e.Bb(n,4).ngClassValid,e.Bb(n,4).ngClassInvalid,e.Bb(n,4).ngClassPending),l(n,18,0,e.Bb(n,21).ngClassUntouched,e.Bb(n,21).ngClassTouched,e.Bb(n,21).ngClassPristine,e.Bb(n,21).ngClassDirty,e.Bb(n,21).ngClassValid,e.Bb(n,21).ngClassInvalid,e.Bb(n,21).ngClassPending),l(n,32,0,t.totalPublished),l(n,37,0,t.totalDrafts),l(n,38,0,e.Bb(n,39).target,e.Bb(n,39).href),l(n,45,0,e.Bb(n,50).ngClassUntouched,e.Bb(n,50).ngClassTouched,e.Bb(n,50).ngClassPristine,e.Bb(n,50).ngClassDirty,e.Bb(n,50).ngClassValid,e.Bb(n,50).ngClassInvalid,e.Bb(n,50).ngClassPending),l(n,66,0,e.Bb(n,71).ngClassUntouched,e.Bb(n,71).ngClassTouched,e.Bb(n,71).ngClassPristine,e.Bb(n,71).ngClassDirty,e.Bb(n,71).ngClassValid,e.Bb(n,71).ngClassInvalid,e.Bb(n,71).ngClassPending)}))}function D(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"app-video-management",[],null,null,null,T,M)),e.pb(1,114688,null,0,P,[s.f,p.a,f,y.a],null,null)],(function(l,n){l(n,1,0)}),null)}var F=e.mb("app-video-management",P,D,{},{},[]),H=t("cg3Z"),L=t("APW9");class E{constructor(l,n,t,e,u,i,o,a){this.activatedRoute=l,this.fb=n,this.sanitizer=t,this.videoService=e,this.sweetAlertService=u,this.location=i,this.router=o,this.loadingService=a,this.breadcrumb=[],this.videoId="",this.videoForm=this.fb.group({title:["",s.v.required],categoryId:["",s.v.required],year:["",[s.v.required,s.v.maxLength(4),s.v.minLength(4)]],url:["",s.v.required],videoID:[""],coverImg:[""],description:["",s.v.required],status:["draft"],genres:[""]}),this.categoryList=[]}ngOnInit(){this.setMode(),this.getCategories()}getCategories(){this.loadingService.showLoading(),this.videoService.getCategories().subscribe(l=>{this.loadingService.hideLoading(),this.categoryList=l.data},l=>{this.loadingService.hideLoading();const n=l.error;n.msg&&this.sweetAlertService.error(null,n.msg)})}setMode(){this.activatedRoute.url.subscribe(l=>{switch(l[0].path){case"new":this.mode="create",this.setBreadcrumb({link:"",text:"New Video"});break;case"view":this.mode="view",this.videoId=l[1].path,this.getVideoData(),this.setBreadcrumb({link:"",text:"View Video"}),this.videoForm.disable();break;case"update":this.mode="update",this.videoId=l[1].path,this.getVideoData(),this.setBreadcrumb({link:"",text:"Update Video"})}})}getVideoData(){this.videoService.getVideo(this.videoId).subscribe(l=>{this.videoData=l.data,this.loadVideoData(this.videoData)},l=>{const n=l.error;n.msg&&this.sweetAlertService.error(null,n.msg)})}setBreadcrumb(l){this.breadcrumb=[{link:"/videos",text:"Video Management"},{link:l.link,text:l.text}]}setVideoID(){const l=this.videoForm.get("url").value;if(!l)return;const n=l.substring(0,l.indexOf("&")>-1?l.indexOf("&"):l.length);this.videoForm.get("url").setValue(n);let t="";this.youtubeLink=null,this.vimeoLink=null,n.indexOf("vimeo")>-1?(t=n.replace("https://vimeo.com/",""),this.vimeoLink=this.transform(`https://player.vimeo.com/video/${t}`),this.getVimeoPhoto(t)):n.indexOf("youtube")>-1?(t=n.replace("https://www.youtube.com/watch?v=",""),this.youtubeLink=this.transform(`https://www.youtube.com/embed/${t}`),this.videoForm.get("coverImg").setValue(`https://img.youtube.com/vi/${t}/maxresdefault.jpg`)):this.sweetAlertService.warn(null,"Only Youtube and Vimeo urls are allowed"),this.videoForm.get("videoID").setValue(t)}getVimeoPhoto(l){this.videoService.getVimeoPhoto(l).subscribe(l=>{this.videoForm.get("coverImg").setValue(l[0].thumbnail_large)})}onEdit(){this.videoForm.enable(),this.mode="edit"}loadVideoData(l){if(l){const n=l.genres.map(l=>l.genre);l.genres=n.join(),this.videoForm.patchValue(l),this.setVideoID()}}formatOutput(l="draft"){const n=this.videoForm.getRawValue(),t=n.genres.split(",");return t.forEach(l=>{l=l.trim()}),n.year=+n.year,n.status=l,n.genres=t,delete n.videoID,n}saveForm(){this.sweetAlertService.confirm("Are you sure?","Are you sure you want to save?").then(l=>{if(l.value){this.loadingService.showLoading();const l=this.formatOutput();("create"===this.mode?this.videoService.createVideo(l):this.videoService.updateVideo(this.videoId,l)).subscribe(l=>{this.loadingService.hideLoading();const n=l.data;this.videoData=n,this.loadVideoData(this.videoData),this.videoForm.disable(),this.mode="view",this.videoId=n.id,this.location.go(`/videos/view/${n.id}`)},l=>{this.loadingService.hideLoading();const n=l.error;n.msg&&this.sweetAlertService.error(null,n.msg)})}})}updateVideoStatus(l,n=!1){this.videoService.updateVideoStatus(this.videoId,l).subscribe(l=>{this.loadingService.hideLoading();const t=l.status;this.videoForm.get("status").setValue(t),n?(this.sweetAlertService.success(null,"Video published successfully!"),this.router.navigateByUrl("/videos")):(this.sweetAlertService.success(null,"Video unpublished successfully!"),this.router.navigateByUrl("/videos"))},l=>{this.loadingService.hideLoading();const n=l.error;n.msg&&this.sweetAlertService.error(null,n.msg)})}publishVideo(){this.sweetAlertService.confirm("Are you sure?","Are you sure you want to publish this video?").then(l=>{if(l.value){this.loadingService.showLoading();const l=this.formatOutput("published");this.updateVideoStatus(l,!0)}})}unpublishVideo(){this.sweetAlertService.confirm("Are you sure?","Are you sure you want to unpublish this video?").then(l=>{if(l.value){this.loadingService.showLoading();const l=this.formatOutput("draft");this.updateVideoStatus(l,!1)}})}onCancel(){this.videoForm.disable(),this.mode="view",this.loadVideoData(this.videoData)}transform(l){return this.sanitizer.bypassSecurityTrustResourceUrl(l)}}var A=e.ob({encapsulation:0,styles:[[".ctrl-row[_ngcontent-%COMP%]{margin:20px 0}.ctrl-row.--video-preview[_ngcontent-%COMP%]{margin-top:3rem}.video-wrapper[_ngcontent-%COMP%]{text-align:center}.ctrl-row.--meta-data[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%]{width:25%}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--year[_ngcontent-%COMP%]{width:70px}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--genere[_ngcontent-%COMP%]{width:60%}@media (min-width:480px) and (max-width:767px) and (orientation:landscape){.ctrl-row.--meta-data[_ngcontent-%COMP%]{flex-wrap:wrap}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:unset}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%], .ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--year[_ngcontent-%COMP%]{width:calc(50% - 10px)}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--genere[_ngcontent-%COMP%]{width:100%;margin-top:20px}}@media (max-width:479px) and (orientation:landscape){.ctrl-row.--meta-data[_ngcontent-%COMP%]{flex-wrap:wrap}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:unset}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%], .ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--year[_ngcontent-%COMP%]{width:calc(50% - 10px)}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--genere[_ngcontent-%COMP%]{width:100%;margin-top:20px}}@media (min-width:768px) and (max-width:992px) and (orientation:portrait){.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:unset}}@media (min-width:480px) and (max-width:767px) and (orientation:portrait){.ctrl-row.--meta-data[_ngcontent-%COMP%]{flex-wrap:wrap}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:unset}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%], .ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--year[_ngcontent-%COMP%]{width:calc(50% - 10px)}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--genere[_ngcontent-%COMP%]{width:100%;margin-top:20px}}@media (max-width:479px) and (orientation:portrait){.ctrl-row.--meta-data[_ngcontent-%COMP%]{flex-wrap:wrap}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:unset}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--category[_ngcontent-%COMP%], .ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--year[_ngcontent-%COMP%]{width:calc(50% - 10px)}.ctrl-row.--meta-data[_ngcontent-%COMP%]   .meta-wrapper.--genere[_ngcontent-%COMP%]{width:100%;margin-top:20px}}"]],data:{}});function z(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"h1",[["class","page-title"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["New"]))],null,null)}function U(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"h1",[["class","page-title"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Draft"]))],null,null)}function j(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.fb(16777216,null,null,1,null,z)),e.pb(2,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),e.fb(0,[["draftTitle",2]],null,0,null,U))],(function(l,n){l(n,2,0,"create"===n.component.mode,e.Bb(n,3))}),null)}function J(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"h1",[["class","page-title"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Published"]))],null,null)}function N(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"button",[["aria-label","Publish video"],["class","btn --md action-btn --publish"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.publishVideo()&&e),e}),null,null)),(l()(),e.Hb(-1,null,["Publish"]))],null,null)}function $(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"button",[["aria-label","Unpublish video"],["class","btn --md action-btn --unpublish"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.unpublishVideo()&&e),e}),null,null)),(l()(),e.Hb(-1,null,["Unpublish"]))],null,null)}function R(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,3,"button",[["aria-label","Edit video"],["class","action-btn --edit"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onEdit()&&e),e}),null,null)),(l()(),e.qb(1,0,null,null,2,"fa-icon",[["class","action-btn --icon ng-fa-icon"]],[[8,"innerHTML",1]],null,null,o.b,o.a)),e.pb(2,573440,null,0,a.a,[r.b,a.b],{iconProp:[0,"iconProp"]},null),e.Cb(3,2)],(function(l,n){var t=l(n,3,0,"fa","pen");l(n,2,0,t)}),(function(l,n){l(n,1,0,e.Bb(n,2).renderedIconHTML)}))}function Y(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"button",[["aria-label","Save as draft"],["class","btn --md action-btn --save"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.saveForm()&&e),e}),null,null)),(l()(),e.Hb(-1,null,["Save Draft"]))],null,null)}function K(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"button",[["aria-label","Cancel"],["class","btn --md action-btn --sub --cancel"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onCancel()&&e),e}),null,null)),(l()(),e.Hb(-1,null,["Cancel"]))],null,null)}function G(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.qb(1,0,null,null,1,"div",[["class","video-wrapper"]],null,null,null,null,null)),(l()(),e.qb(2,0,null,null,0,"iframe",[["allow","accelerometer; autoplay; gyroscope; picture-in-picture"],["allowfullscreen",""],["class","video-player"],["frameborder","0"],["height","315"],["width","560"]],[[8,"src",5]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.component.youtubeLink)}))}function W(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.qb(1,0,null,null,1,"div",[["class","video-wrapper video--vimeo"]],null,null,null,null,null)),(l()(),e.qb(2,0,null,null,0,"iframe",[["allowfullscreen",""],["class","video-player"],["frameborder","0"],["height","360"],["mozallowfullscreen",""],["webkitallowfullscreen",""],["width","640"]],[[8,"src",5]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.component.vimeoLink)}))}function X(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.pb(1,147456,null,0,s.s,[e.k,e.B,[2,s.u]],{ngValue:[0,"ngValue"]},null),e.pb(2,147456,null,0,s.z,[e.k,e.B,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),e.Hb(3,null,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.text)}))}function Z(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"app-breadcrumb",[["class","breadcrumb-list"]],null,null,null,H.b,H.a)),e.pb(1,114688,null,0,L.a,[],{trace:[0,"trace"]},null),(l()(),e.qb(2,0,null,null,94,"form",[["class","video-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,t){var u=!0;return"submit"===n&&(u=!1!==e.Bb(l,4).onSubmit(t)&&u),"reset"===n&&(u=!1!==e.Bb(l,4).onReset()&&u),u}),null,null)),e.pb(3,16384,null,0,s.A,[],null,null),e.pb(4,540672,null,0,s.h,[[8,null],[8,null]],{form:[0,"form"]},null),e.Eb(2048,null,s.c,null,[s.h]),e.pb(6,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),e.qb(7,0,null,null,17,"div",[["class","action-row"]],null,null,null,null,null)),(l()(),e.qb(8,0,null,null,5,null,null,null,null,null,null,null)),e.pb(9,16384,null,0,c.m,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),e.fb(16777216,null,null,1,null,j)),e.pb(11,278528,null,0,c.n,[e.M,e.J,c.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.fb(16777216,null,null,1,null,J)),e.pb(13,278528,null,0,c.n,[e.M,e.J,c.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.qb(14,0,null,null,10,"div",[["class","inner-action-wrapper"]],null,null,null,null,null)),(l()(),e.fb(16777216,null,null,1,null,N)),e.pb(16,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(16777216,null,null,1,null,$)),e.pb(18,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(16777216,null,null,1,null,R)),e.pb(20,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(16777216,null,null,1,null,Y)),e.pb(22,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(16777216,null,null,1,null,K)),e.pb(24,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(25,0,null,null,8,"div",[["class","ctrl-row required"]],null,null,null,null,null)),(l()(),e.qb(26,0,null,null,1,"label",[["class","ctrl-label --title"],["for","title"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Title"])),(l()(),e.qb(28,0,null,null,5,"input",[["class","ctrl"],["formControlName","title"],["id","title"],["placeholder","Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.Bb(l,29)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,29).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Bb(l,29)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Bb(l,29)._compositionEnd(t.target.value)&&u),u}),null,null)),e.pb(29,16384,null,0,s.d,[e.B,e.k,[2,s.a]],null,null),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.d]),e.pb(31,671744,null,0,s.g,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.y]],{name:[0,"name"]},null),e.Eb(2048,null,s.o,null,[s.g]),e.pb(33,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),e.qb(34,0,null,null,8,"div",[["class","ctrl-row required"]],null,null,null,null,null)),(l()(),e.qb(35,0,null,null,1,"label",[["class","ctrl-label --url"],["for","url"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["URL"])),(l()(),e.qb(37,0,null,null,5,"input",[["class","ctrl"],["formControlName","url"],["id","url"],["placeholder","Vimeo or Youtube link..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,i=l.component;return"input"===n&&(u=!1!==e.Bb(l,38)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,38).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Bb(l,38)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Bb(l,38)._compositionEnd(t.target.value)&&u),"blur"===n&&(u=!1!==i.setVideoID()&&u),u}),null,null)),e.pb(38,16384,null,0,s.d,[e.B,e.k,[2,s.a]],null,null),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.d]),e.pb(40,671744,null,0,s.g,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.y]],{name:[0,"name"]},null),e.Eb(2048,null,s.o,null,[s.g]),e.pb(42,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),e.qb(43,0,null,null,4,"div",[["class","ctrl-row --video-preview"]],null,null,null,null,null)),(l()(),e.fb(16777216,null,null,1,null,G)),e.pb(45,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(16777216,null,null,1,null,W)),e.pb(47,16384,null,0,c.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(48,0,null,null,39,"div",[["class","ctrl-row --meta-data"]],null,null,null,null,null)),(l()(),e.qb(49,0,null,null,17,"div",[["class","meta-wrapper required --category"]],null,null,null,null,null)),(l()(),e.qb(50,0,null,null,1,"label",[["class","ctrl-label --category"],["for","category"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Category"])),(l()(),e.qb(52,0,null,null,14,"select",[["class","ctrl"],["formControlName","categoryId"],["id","category"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,t){var u=!0;return"change"===n&&(u=!1!==e.Bb(l,56).onChange(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,56).onTouched()&&u),u}),null,null)),e.Eb(512,null,c.t,c.u,[e.q,e.r,e.k,e.B]),e.pb(54,278528,null,0,c.h,[c.t],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Db(55,{default:0}),e.pb(56,16384,null,0,s.u,[e.B,e.k],null,null),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.u]),e.pb(58,671744,null,0,s.g,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.y]],{name:[0,"name"]},null),e.Eb(2048,null,s.o,null,[s.g]),e.pb(60,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),e.qb(61,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),e.pb(62,147456,null,0,s.s,[e.k,e.B,[2,s.u]],{value:[0,"value"]},null),e.pb(63,147456,null,0,s.z,[e.k,e.B,[8,null]],{value:[0,"value"]},null),(l()(),e.Hb(-1,null,["Select category"])),(l()(),e.fb(16777216,null,null,1,null,X)),e.pb(66,278528,null,0,c.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.qb(67,0,null,null,11,"div",[["class","meta-wrapper required --year"]],null,null,null,null,null)),(l()(),e.qb(68,0,null,null,1,"label",[["class","ctrl-label --category"],["for","year"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Year"])),(l()(),e.qb(70,0,null,null,8,"input",[["class","ctrl"],["formControlName","year"],["id","year"],["maxlength","4"],["minlength","4"],["placeholder","Year"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.Bb(l,71)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,71).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Bb(l,71)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Bb(l,71)._compositionEnd(t.target.value)&&u),u}),null,null)),e.pb(71,16384,null,0,s.d,[e.B,e.k,[2,s.a]],null,null),e.pb(72,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),e.pb(73,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),e.Eb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.d]),e.pb(76,671744,null,0,s.g,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.y]],{name:[0,"name"]},null),e.Eb(2048,null,s.o,null,[s.g]),e.pb(78,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),e.qb(79,0,null,null,8,"div",[["class","meta-wrapper required --genere"]],null,null,null,null,null)),(l()(),e.qb(80,0,null,null,1,"label",[["class","ctrl-label --category"],["for","genere"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Genre"])),(l()(),e.qb(82,0,null,null,5,"input",[["class","ctrl"],["formControlName","genres"],["id","genere"],["placeholder","Genere separated by comma"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.Bb(l,83)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,83).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Bb(l,83)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Bb(l,83)._compositionEnd(t.target.value)&&u),u}),null,null)),e.pb(83,16384,null,0,s.d,[e.B,e.k,[2,s.a]],null,null),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.d]),e.pb(85,671744,null,0,s.g,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.y]],{name:[0,"name"]},null),e.Eb(2048,null,s.o,null,[s.g]),e.pb(87,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),e.qb(88,0,null,null,8,"div",[["class","ctrl-row required"]],null,null,null,null,null)),(l()(),e.qb(89,0,null,null,1,"label",[["class","ctrl-label --category"],["for","description"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Description"])),(l()(),e.qb(91,0,null,null,5,"textarea",[["class","ctrl"],["formControlName","description"],["id","description"],["placeholder","Description"],["rows","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e.Bb(l,92)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Bb(l,92).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Bb(l,92)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Bb(l,92)._compositionEnd(t.target.value)&&u),u}),null,null)),e.pb(92,16384,null,0,s.d,[e.B,e.k,[2,s.a]],null,null),e.Eb(1024,null,s.n,(function(l){return[l]}),[s.d]),e.pb(94,671744,null,0,s.g,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.y]],{name:[0,"name"]},null),e.Eb(2048,null,s.o,null,[s.g]),e.pb(96,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var t=n.component;l(n,1,0,t.breadcrumb),l(n,4,0,t.videoForm),l(n,9,0,t.videoForm.get("status").value),l(n,11,0,"draft"),l(n,13,0,"published"),l(n,16,0,"view"===t.mode&&"draft"===t.videoForm.get("status").value),l(n,18,0,"view"===t.mode&&"published"===t.videoForm.get("status").value),l(n,20,0,"view"===t.mode),l(n,22,0,"view"!==t.mode),l(n,24,0,"view"!==t.mode),l(n,31,0,"title"),l(n,40,0,"url"),l(n,45,0,t.videoForm.get("url").value.indexOf("youtube")>-1),l(n,47,0,t.videoForm.get("url").value.indexOf("vimeo")>-1);var e=l(n,55,0,""===t.videoForm.get("categoryId").value);l(n,54,0,"ctrl",e),l(n,58,0,"categoryId"),l(n,62,0,""),l(n,63,0,""),l(n,66,0,t.categoryList),l(n,72,0,"4"),l(n,73,0,"4"),l(n,76,0,"year"),l(n,85,0,"genres"),l(n,94,0,"description")}),(function(l,n){l(n,2,0,e.Bb(n,6).ngClassUntouched,e.Bb(n,6).ngClassTouched,e.Bb(n,6).ngClassPristine,e.Bb(n,6).ngClassDirty,e.Bb(n,6).ngClassValid,e.Bb(n,6).ngClassInvalid,e.Bb(n,6).ngClassPending),l(n,28,0,e.Bb(n,33).ngClassUntouched,e.Bb(n,33).ngClassTouched,e.Bb(n,33).ngClassPristine,e.Bb(n,33).ngClassDirty,e.Bb(n,33).ngClassValid,e.Bb(n,33).ngClassInvalid,e.Bb(n,33).ngClassPending),l(n,37,0,e.Bb(n,42).ngClassUntouched,e.Bb(n,42).ngClassTouched,e.Bb(n,42).ngClassPristine,e.Bb(n,42).ngClassDirty,e.Bb(n,42).ngClassValid,e.Bb(n,42).ngClassInvalid,e.Bb(n,42).ngClassPending),l(n,52,0,e.Bb(n,60).ngClassUntouched,e.Bb(n,60).ngClassTouched,e.Bb(n,60).ngClassPristine,e.Bb(n,60).ngClassDirty,e.Bb(n,60).ngClassValid,e.Bb(n,60).ngClassInvalid,e.Bb(n,60).ngClassPending),l(n,70,0,e.Bb(n,72).minlength?e.Bb(n,72).minlength:null,e.Bb(n,73).maxlength?e.Bb(n,73).maxlength:null,e.Bb(n,78).ngClassUntouched,e.Bb(n,78).ngClassTouched,e.Bb(n,78).ngClassPristine,e.Bb(n,78).ngClassDirty,e.Bb(n,78).ngClassValid,e.Bb(n,78).ngClassInvalid,e.Bb(n,78).ngClassPending),l(n,82,0,e.Bb(n,87).ngClassUntouched,e.Bb(n,87).ngClassTouched,e.Bb(n,87).ngClassPristine,e.Bb(n,87).ngClassDirty,e.Bb(n,87).ngClassValid,e.Bb(n,87).ngClassInvalid,e.Bb(n,87).ngClassPending),l(n,91,0,e.Bb(n,96).ngClassUntouched,e.Bb(n,96).ngClassTouched,e.Bb(n,96).ngClassPristine,e.Bb(n,96).ngClassDirty,e.Bb(n,96).ngClassValid,e.Bb(n,96).ngClassInvalid,e.Bb(n,96).ngClassPending)}))}function Q(l){return e.Ib(0,[(l()(),e.qb(0,0,null,null,1,"app-video-detail",[],null,null,null,Z,A)),e.pb(1,114688,null,0,E,[b.a,s.f,r.b,f,p.a,c.f,b.k,y.a],null,null)],(function(l,n){l(n,1,0)}),null)}var ll=e.mb("app-video-detail",E,Q,{},{},[]),nl=t("PCNd");class tl{}t.d(n,"VideoModuleNgFactory",(function(){return el}));var el=e.nb(u,[],(function(l){return e.yb([e.zb(512,e.j,e.Y,[[8,[i.a,F,ll]],[3,e.j],e.v]),e.zb(4608,c.l,c.k,[e.s,[2,c.w]]),e.zb(4608,s.x,s.x,[]),e.zb(4608,s.f,s.f,[]),e.zb(1073742336,c.b,c.b,[]),e.zb(1073742336,b.o,b.o,[[2,b.t],[2,b.k]]),e.zb(1073742336,a.f,a.f,[]),e.zb(1073742336,nl.a,nl.a,[]),e.zb(1073742336,tl,tl,[]),e.zb(1073742336,s.w,s.w,[]),e.zb(1073742336,s.j,s.j,[]),e.zb(1073742336,s.t,s.t,[]),e.zb(1073742336,u,u,[]),e.zb(1024,b.i,(function(){return[[{path:"",component:P,pathMatch:"full"},{path:"view/:id",component:E},{path:"update/:id",component:E},{path:"new",component:E}]]}),[])])}))}}]);